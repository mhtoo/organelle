(this.webpackJsonporganelle=this.webpackJsonporganelle||[]).push([[0],{109:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n(23),o=n.n(c),s=n(12),i=n.n(s),l=n(14),u=n(4),j=n(22),d=n(15),h=(n(80),Object(r.createContext)(null));function b(){var e=Object(r.useContext)(h).setUserData,t=Object(d.g)();return Object(a.jsx)("nav",{className:"auth-options",children:""!==localStorage.getItem("auth-token")?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){e({token:void 0,user:void 0}),localStorage.setItem("auth-token","")},children:"Logout"}),Object(a.jsx)("button",{onClick:function(){return t.push("/calendar")},children:"Home"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"btn",onClick:function(){return t.push("/register")},children:" Register "}),Object(a.jsx)("button",{className:"btn",onClick:function(){return t.push("/login")},children:" Log In "})]})})}function p(){return Object(a.jsxs)("div",{className:"welcome",children:[Object(a.jsx)("h3",{children:"welcome to"}),Object(a.jsx)("h1",{children:"Organelle"}),Object(a.jsx)("h3",{children:"The next-gen web class organizer"}),Object(a.jsx)(b,{})]})}var O=n.p+"static/media/calendar.f1d77f30.png",x=n.p+"static/media/todo.2fcc58e2.png",g=n.p+"static/media/canvasT.2564f62e.png";n(86);function f(){return Object(a.jsxs)("div",{className:"homePage",children:[Object(a.jsx)(p,{}),Object(a.jsxs)("section",{className:"features",children:[Object(a.jsx)("h1",{children:"Calendar"}),Object(a.jsxs)("div",{className:"f1grid",children:[Object(a.jsx)("img",{height:"250",width:"450",src:O,alt:"feature 1"}),Object(a.jsx)("p",{class:"vertical",children:"Get an overview of upcoming lectures and deadlines for the month using the Calendar view. You can add events individually, upload your own .ics calendar file, or import from Canvas. Organelle allows you to easily navigate your personal study plan by keeping you up to date on your tasks for the month."})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("h1",{children:"Canvas Compatibility"}),Object(a.jsxs)("div",{className:"f2grid",children:[Object(a.jsx)("img",{height:"200",width:"450",src:g,alt:"feature 2"}),Object(a.jsx)("p",{class:"vertical",children:"Already have important events on your Canvas calendar? Organelle saves you the hassle of manually uploading each event with its Import from Canvas capability. This allows you to include every event on your personal Canvas calendar on your Organelle account."})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("h1",{children:"To Do List"}),Object(a.jsxs)("div",{className:"f2grid",children:[Object(a.jsx)("img",{height:"230",width:"450",src:x,alt:"feature 2"}),Object(a.jsx)("p",{class:"vertical",children:"Break up the monotony of working from home with the To Do List view. With your upcoming deadlines organized into daily to do lists sorted by your personalized priority, Organelle helps you get a clear grasp of what you will be doing each day. Check off tasks as you go to monitor your progress."})]})]}),Object(a.jsxs)("section",{className:"story",children:[Object(a.jsx)("h2",{children:"Our Story"}),Object(a.jsx)("p",{children:"With the new normal of online learning, the modern student must juggle different class websites, emails, and syllabi in order to navigate their courses. Organelle\ufffds flexibility allows students to create a personalized homepage of deadlines and events, allowing students to organize their planner to their needs. We strive to help students succeed in their online classes by giving them the tools to stay on top of their learning."})]}),Object(a.jsx)("section",{className:"experience"}),Object(a.jsx)("footer",{children:"Organelle. \xa9 All rights reserved."})]})}n(87);var m=n(10);function v(){var e=Object(r.useContext)(h).setUserData,t=Object(d.g)();return Object(a.jsxs)("nav",{className:"navibar-default navbar-dark",children:[Object(a.jsx)(j.b,{to:"/",children:Object(a.jsx)("h1",{className:"logo",children:"ORGANELLE"})}),Object(a.jsxs)("ul",{className:"navbar-nav",children:[Object(a.jsxs)("li",{className:"nav-item navibar-side",children:[Object(a.jsx)("a",{href:"/calendar",className:"nav-link",children:"Calendar"}),Object(a.jsx)("div",{className:"dropdown-divider"}),Object(a.jsx)("a",{href:"/todo",className:"nav-link",children:"Todo"}),Object(a.jsx)("div",{className:"dropdown-divider"}),Object(a.jsx)("a",{href:"https://canvas.ucsd.edu",className:"nav-link",children:"Canvas"}),Object(a.jsx)("div",{className:"dropdown-divider"}),Object(a.jsx)("a",{href:"/profile",className:"nav-link",children:"Profile"})]}),Object(a.jsx)("div",{className:"logout-button",children:Object(a.jsx)(m.a,{variant:"outline-danger",onClick:function(){e({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),t.push("/")},children:"Logout"})})]})]})}n(26);var y=n(30),k=n(17),S=n(29),C=n(67),w=n(9),z=n(3),N=n(7),I=n.n(N),E=n(13),T=n.n(E);function L(e){return Object(a.jsxs)("div",{className:"error-notice",children:[Object(a.jsx)("span",{children:e.message}),Object(a.jsx)("button",{onClick:e.clearError,children:"X"})]})}var G=n(27),D=n.n(G);n(33);function P(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(1),p=Object(u.a)(b,2),O=p[0],x=p[1],g=Object(r.useState)(""),f=Object(u.a)(g,2),v=f[0],y=f[1],k=Object(r.useState)(),S=Object(u.a)(k,2),C=S[0],N=S[1],E=Object(r.useState)(),G=Object(u.a)(E,2),P=G[0],B=G[1],H=Object(r.useState)([]),F=Object(u.a)(H,2),A=F[0],M=F[1],R=Object(r.useState)(""),W=Object(u.a)(R,2),V=W[0],_=W[1],U=Object(r.useState)(e.show),Y=Object(u.a)(U,2),J=Y[0],X=Y[1],q=Object(r.useState)(),K=Object(u.a)(q,2),Q=K[0],Z=K[1];function $(){return e.action()}Object(r.useEffect)((function(){X(e.show),function(){var e=localStorage.getItem("auth-token"),t="http://organelle.pzny.xyz/courses/all";I.a.get(t,{headers:{"x-auth-token":e}}).then((function(e){M(e.data)})).catch((function(e){console.log(e)}))}()}),[e.show]);var ee=function(){var t=Object(l.a)(i.a.mark((function t(n){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,a={title:c,type:v,startTime:C,endTime:P,priority:O,description:d,courseName:V},"http://organelle.pzny.xyz/events/add",r=localStorage.getItem("auth-token"),t.next=7,I.a.post("http://organelle.pzny.xyz/events/add",a,{headers:{"x-auth-token":r}});case 7:return t.abrupt("return",e.action());case 10:t.prev=10,t.t0=t.catch(1),Z(t.t0.response.data.msg);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(w.a,{show:J,onHide:$,backdrop:"static",keyboard:!1,animation:!1,children:[Object(a.jsx)(w.a.Header,{closeButton:!0,children:Object(a.jsx)(w.a.Title,{children:"New Event"})}),Object(a.jsx)(w.a.Body,{children:Object(a.jsxs)(z.a,{children:[Q&&Object(a.jsx)(L,{message:Q,clearError:function(){return Z(void 0)}}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupName",children:[Object(a.jsx)(z.a.Label,{children:"Event Name *"}),Object(a.jsx)(z.a.Control,{type:"name",placeholder:"What is this event?",onChange:function(e){return o(e.target.value)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupCourse",children:[Object(a.jsx)(z.a.Label,{children:"Course"}),Object(a.jsxs)(z.a.Control,{as:"select",defaultValue:"Choose...",onChange:function(e){return _(e.target.value)},children:[Object(a.jsx)("option",{children:"Choose..."}),A.map((function(e,t){return Object(a.jsx)("option",{children:e.courseName},t)}))]})]}),Object(a.jsxs)(z.a.Group,{controlId:"formDatePicker",children:[Object(a.jsx)(z.a.Label,{children:"Due Date"}),Object(a.jsx)(D.a,{onChange:function(e){return function(e){N(T()(e).startOf("day").toISOString()),B(e)}(e)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupDescription",children:[Object(a.jsx)(z.a.Label,{children:"Event Description"}),Object(a.jsx)(z.a.Control,{type:"description",as:"textarea",rows:3,placeholder:"Any notes for this event?",onChange:function(e){return h(e.target.value)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupType",children:[Object(a.jsx)(z.a.Label,{children:"Event Type"}),Object(a.jsx)(z.a.Control,{type:"type",placeholder:"Is this a Lecture or Discussion or Assignment or Something else?",onChange:function(e){return y(e.target.value)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupPriority",children:[Object(a.jsx)(z.a.Label,{children:"Priority"}),Object(a.jsxs)(z.a.Control,{value:"1",as:"select",onChange:function(e){return x(e.target.value)},defaultValue:"How important is this event?",children:[Object(a.jsx)("option",{value:"3",children:"High"}),Object(a.jsx)("option",{value:"2",children:"Medium"}),Object(a.jsx)("option",{value:"1",children:"Low"})]})]})]})}),Object(a.jsxs)(w.a.Footer,{children:[Object(a.jsx)(m.a,{variant:"primary",onClick:ee,children:"Save"}),Object(a.jsx)(m.a,{variant:"primary",onClick:$,children:"Cancel"})]})]})}function B(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(e.show),p=Object(u.a)(b,2),O=p[0],x=p[1];function g(){return e.action()}Object(r.useEffect)((function(){x(e.show)}),[e.show]);var f=function(){var t=Object(l.a)(i.a.mark((function t(n){var a,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,a={courseName:c,professor:d},console.log(a),"http://organelle.pzny.xyz/courses/add",r=localStorage.getItem("auth-token"),t.next=8,I.a.post("http://organelle.pzny.xyz/courses/add",a,{headers:{"x-auth-token":r}});case 8:o=t.sent,console.log("This is course res:",o),window.alert("added ",c),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(1),400===t.t0.response.status&&window.alert(t.t0.response.data.msg),console.log("This is course res ERR:"),console.log(t.t0);case 18:return t.abrupt("return",e.action());case 19:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(w.a,{show:O,onHide:g,backdrop:"static",keyboard:!1,animation:!1,children:[Object(a.jsx)(w.a.Header,{closeButton:!0,children:Object(a.jsx)(w.a.Title,{children:"New Course"})}),Object(a.jsx)(w.a.Body,{children:Object(a.jsxs)(z.a,{children:[Object(a.jsxs)(z.a.Group,{controlId:"formGroupName",children:[Object(a.jsx)(z.a.Label,{children:"Course Name"}),Object(a.jsx)(z.a.Control,{type:"name",placeholder:"What is this course name? e.g.CSE110",onChange:function(e){return o(e.target.value)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupProfessor",children:[Object(a.jsx)(z.a.Label,{children:"Professor"}),Object(a.jsx)(z.a.Control,{type:"course",placeholder:"Who is the professor of this course?",onChange:function(e){return h(e.target.value)}})]})]})}),Object(a.jsxs)(w.a.Footer,{children:[Object(a.jsx)(m.a,{variant:"primary",onClick:f,children:"Save"}),Object(a.jsx)(m.a,{variant:"primary",onClick:g,children:"Cancel"})]})]})}function H(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(e.show),p=Object(u.a)(b,2),O=p[0],x=p[1];function g(){return e.action()}Object(r.useEffect)((function(){x(e.show),function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("auth-token"),"http://organelle.pzny.xyz/courses/all",e.next=5,I.a.get("http://organelle.pzny.xyz/courses/all",{headers:{"x-auth-token":t}});case 5:n=e.sent,o(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[e.show,c]);var f=function(){var t=Object(l.a)(i.a.mark((function t(n){var a,r,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,a={courseName:d},console.log(a),r="http://organelle.pzny.xyz/courses/"+d,c=localStorage.getItem("auth-token"),t.next=8,I.a.delete(r,{headers:{"x-auth-token":c}});case 8:o=t.sent,console.log("This is course res:",o),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),console.log("This is course res ERR:"),console.log(t.t0);case 16:return t.abrupt("return",e.action());case 17:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(w.a,{show:O,onHide:g,backdrop:"static",keyboard:!1,animation:!1,children:[Object(a.jsx)(w.a.Header,{closeButton:!0,children:Object(a.jsx)(w.a.Title,{children:"Drop the Course"})}),Object(a.jsx)(w.a.Body,{children:Object(a.jsxs)(z.a,{children:[Object(a.jsxs)(z.a.Group,{controlId:"formGroupCourse",children:[Object(a.jsx)(z.a.Label,{children:"Course"}),Object(a.jsxs)(z.a.Control,{as:"select",defaultValue:"Choose...",onChange:function(e){return h(e.target.value)},children:[Object(a.jsx)("option",{children:"Choose..."}),c.map((function(e,t){return Object(a.jsx)("option",{children:e.courseName},t)}))]})]}),Object(a.jsx)(z.a.Group,{children:Object(a.jsx)("b",{children:"Warning: I know this operation will deletes all events that relevant to this course."})})]})}),Object(a.jsxs)(w.a.Footer,{children:[Object(a.jsx)(m.a,{variant:"primary",onClick:f,children:"Drop"}),Object(a.jsx)(m.a,{variant:"primary",onClick:g,children:"Cancel"})]})]})}function F(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(""),p=Object(u.a)(b,2),O=p[0],x=p[1],g=Object(r.useState)(""),f=Object(u.a)(g,2),v=f[0],y=f[1],k=Object(r.useState)(""),S=Object(u.a)(k,2),C=S[0],N=S[1],E=Object(r.useState)(""),L=Object(u.a)(E,2),G=L[0],P=L[1],B=Object(r.useState)(""),H=Object(u.a)(B,2),F=H[0],A=H[1],M=Object(r.useState)([]),R=Object(u.a)(M,2),W=R[0],V=R[1],_=Object(r.useState)(e.show),U=Object(u.a)(_,2),Y=U[0],J=U[1];function X(){return e.action()}Object(r.useEffect)((function(){J(e.show),function(){var t=localStorage.getItem("auth-token"),n="http://organelle.pzny.xyz/events/"+e.id;I.a.get(n,{headers:{"x-auth-token":t}}).then((function(e){console.log(e),o(e.data.title),A(e.data.courseName),h(e.data.description),x(e.data.priority),N(e.data.startTime),P(T()(e.data.endTime).format("LLLL")),y(e.data.type)})).catch((function(e){console.log(e)}))}(),function(){var e=localStorage.getItem("auth-token"),t="http://organelle.pzny.xyz/courses/all";I.a.get(t,{headers:{"x-auth-token":e}}).then((function(e){V(e.data)})).catch((function(e){console.log(e)}))}(),x(""),y(""),N(""),h(""),A(""),P(""),o("")}),[e.show,e.id]);var q=function(){var t=Object(l.a)(i.a.mark((function t(n){var a,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,P(T()(G).toISOString()),a={title:c,type:v,startTime:C,endTime:G,priority:O,description:d,courseName:F},r="http://organelle.pzny.xyz/events/"+e.id,o=localStorage.getItem("auth-token"),t.next=8,I.a.put(r,a,{headers:{"x-auth-token":o}});case 8:t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:return t.abrupt("return",e.action());case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(w.a,{show:Y,onHide:X,backdrop:"static",keyboard:!1,animation:!1,children:[Object(a.jsx)(w.a.Header,{closeButton:!0,children:Object(a.jsx)(w.a.Title,{children:"Edit Event"})}),Object(a.jsx)(w.a.Body,{children:Object(a.jsxs)(z.a,{children:[Object(a.jsxs)(z.a.Group,{controlId:"formGroupName",children:[Object(a.jsx)(z.a.Label,{children:"Event Name"}),Object(a.jsx)(z.a.Control,{type:"title",placeholder:c,onChange:function(e){return o(e.target.value)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupCourse",children:[Object(a.jsx)(z.a.Label,{children:"Course"}),Object(a.jsxs)(z.a.Control,{as:"select",defaultValue:F,onChange:function(e){return A(e.target.value)},children:[Object(a.jsx)("option",{children:"Choose from Enrolled Courses"}),W.map((function(e,t){return Object(a.jsx)("option",{children:e.courseName},t)}))]})]}),Object(a.jsxs)(z.a.Group,{controlId:"formDatePicker",children:[Object(a.jsxs)(z.a.Label,{children:["End Time: ",G]}),Object(a.jsx)(D.a,{onChange:function(e){return function(e){N(T()(e).startOf("day").toISOString()),P(T()(e).format("LLLL"))}(e)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupDescription",children:[Object(a.jsx)(z.a.Label,{children:"Event Description"}),Object(a.jsx)(z.a.Control,{type:"description",as:"textarea",rows:3,placeholder:d,onChange:function(e){return h(e.target.value)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupType",children:[Object(a.jsx)(z.a.Label,{children:"Event Type"}),Object(a.jsx)(z.a.Control,{type:"type",placeholder:v,onChange:function(e){return y(e.target.value)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupPriority",children:[Object(a.jsx)(z.a.Label,{children:O<0?"This event is checked-off. Select the drop-down option below to change:":"Change Priority:"}),Object(a.jsxs)(z.a.Control,{value:O,as:"select",onChange:function(e){return x(e.target.value)},children:[Object(a.jsx)("option",{value:"3",children:"High"}),Object(a.jsx)("option",{value:"2",children:"Median"}),Object(a.jsx)("option",{value:"1",children:"Low"})]})]})]})}),Object(a.jsxs)(w.a.Footer,{children:[Object(a.jsx)(m.a,{variant:"primary",onClick:q,children:"Save"}),Object(a.jsx)(m.a,{variant:"primary",onClick:X,children:"Cancel"})]})]})}function A(e){return function(e){return 3===e}(e)?"danger":function(e){return 2===e}(e)?"warning":function(e){return e<0}(e)?"secondary":"success"}var M=n(34),R=n.n(M);function W(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),s=Object(u.a)(o,2),j=s[0],d=s[1],h=function(){d(!j)},b=Object(r.useState)(!1),p=Object(u.a)(b,2),O=p[0],x=p[1],g=function(){x(!O)},f=Object(r.useState)(!1),v=Object(u.a)(f,2),w=v[0],z=v[1],N=function(){z(!w)},E=Object(r.useState)(!1),L=Object(u.a)(E,2),G=L[0],D=L[1],M=function(){D(!G)},W=Object(r.useState)([]),V=Object(u.a)(W,2),_=V[0],U=V[1],Y=Object(r.useState)(!1),J=Object(u.a)(Y,2),X=J[0],q=J[1],K=Object(r.useState)(!1),Q=Object(u.a)(K,2),Z=Q[0],$=Q[1],ee=Object(r.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],re="http://organelle.pzny.xyz/events/";Object(r.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,re+"all",t=localStorage.getItem("auth-token"),e.next=5,I.a.get("http://organelle.pzny.xyz/events/all",{headers:{"x-auth-token":t}});case 5:n=e.sent,U(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[X,ne,O,w,G,j]);return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"EventListHeader",children:[Object(a.jsx)(P,{action:g,show:O}),Object(a.jsx)(B,{action:N,show:w}),Object(a.jsx)(H,{action:M,show:G}),Object(a.jsx)(F,{action:h,show:j,id:n}),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(k.a,{lg:6,children:"TodoList"}),Object(a.jsxs)(S.a,{lg:1,children:[Object(a.jsx)(k.a,{lg:"auto",children:Object(a.jsx)(m.a,{variant:"dark",size:"lg",onClick:g,children:"Add an Event"})}),Object(a.jsx)(k.a,{lg:"auto",children:Object(a.jsx)(m.a,{variant:"dark",size:"lg",onClick:N,children:"Create a Course"})}),Object(a.jsx)(k.a,{lg:"auto",children:Object(a.jsx)(m.a,{variant:"dark",size:"lg",onClick:M,children:"Drop a Course"})})]})]})]}),Object(a.jsx)(y.a,{variant:"flush",children:_.sort((function(e,t){return t.priority-e.priority||Date.parse(e.endTime)-Date.parse(t.endTime)})).map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:[">"," Deadline: ",(t=e.endTime,T()(t).format("LLLL"))]}),Object(a.jsx)(y.a.Item,{variant:A(e.priority),className:"listgroupEvent",children:Object(a.jsxs)(S.a,{children:[Object(a.jsx)(k.a,{xs:8,children:e.title}),Object(a.jsx)(k.a,{xs:1,children:Object(a.jsxs)(C.a,{className:"mb-2",children:[Object(a.jsx)(m.a,{onClick:function(){return c(e._id),h(),void $(!Z)},children:"Edit"}),Object(a.jsx)(m.a,{onClick:function(){return function(e){if(window.confirm("This will permanently delete the event. Are you sure?")){var t=localStorage.getItem("auth-token");I.a.delete(re+e,{headers:{"x-auth-token":t}}).then((function(e){q(!X),console.log(X),console.log(e)})).catch((function(e){console.log(e)}))}}(e._id)},children:"Delete"}),Object(a.jsx)(R.a,{checked:-1*e.priority>0,onlabel:"\u2713",onstyle:"success",offlabel:"\u2717",offstyle:"danger",onChange:function(t){t?function(e){var t=localStorage.getItem("auth-token");I.a.get(re+e,{headers:{"x-auth-token":t}}).then((function(n){var a=n.data.priority;n.data.priority>0&&(a=0-n.data.priority);var r={title:n.data.title,type:n.data.type,startTime:n.data.startTime,endTime:n.data.endTime,priority:a,description:n.data.description,courseName:n.data.courseName};console.log(r);var c=re+e;I.a.put(c,r,{headers:{"x-auth-token":t}}).then((function(){ae(!ne)})).catch()})).catch((function(e){console.log(e)}))}(e._id):function(e){var t=localStorage.getItem("auth-token");I.a.get(re+e,{headers:{"x-auth-token":t}}).then((function(n){var a=n.data.priority;n.data.priority<0&&(a=0-n.data.priority);var r={title:n.data.title,type:n.data.type,startTime:n.data.startTime,endTime:n.data.endTime,priority:a,description:n.data.description,courseName:n.data.courseName};console.log(r);var c=re+e;I.a.put(c,r,{headers:{"x-auth-token":t}}).then((function(){ae(!ne)})).catch()})).catch((function(e){console.log(e)}))}(e._id)}})]})})]})})]});var t}))})]})}function V(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(v,{}),Object(a.jsx)("div",{className:"top-left",children:Object(a.jsx)(W,{})})]})}var _=n(68),U=(n(109),n(44)),Y=n(110);function J(e){var t=Object(r.useState)(e.value),n=Object(u.a)(t,1)[0];var c=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r,c,o,s,l,u,j,d,h,b,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://organelle.pzny.xyz/events/all",n=localStorage.getItem("auth-token"),e.next=4,I.a.get("http://organelle.pzny.xyz/events/all",{headers:{"x-auth-token":n}});case 4:for(a=e.sent,r=[],c=0;c<a.data.length;c++)u=function(e){return[e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes()]},o=a.data[c],s=new Date(o.startTime),l=new Date(o.endTime),j=u(s),d=u(l),h={title:o.title,description:o.description,categories:["organelle"],start:j,end:d},r.push(h);console.log(Y.createEvents(r).value.toString()),b=new Blob([Y.createEvents(r).value.toString()],{type:"text/calendar"}),(p=document.createElement("a")).href=URL.createObjectURL(b),p.download="organelle.ics",document.body.appendChild(p),p.click();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsx)(_.a,{children:Object(a.jsxs)(S.a,{children:[Object(a.jsx)(k.a,{xl:1,children:Object(a.jsx)(U.a,{children:Object(a.jsx)(m.a,{variant:"dark",size:"lg",onClick:function(){return e.prevMonth()},children:"Previous"})})}),Object(a.jsx)(k.a,{xl:7,children:Object(a.jsx)("h1",{class:"text-dark",align:"center",children:Object(a.jsxs)("div",{children:[n.format("MMMM"),"   ",n.format("YYYY")]})})}),Object(a.jsx)(k.a,{xl:4,children:Object(a.jsxs)(U.a,{children:[Object(a.jsx)(m.a,{variant:"dark",size:"lg",onClick:function(){return e.nextMonth()},children:"Next"}),Object(a.jsx)(m.a,{variant:"dark",size:"lg",onClick:c,children:"Export Calendar File"})]})})]})})})}n(64);function X(e){for(var t=e.clone().startOf("month").startOf("week"),n=e.clone().endOf("month").endOf("week"),a=t.clone().subtract(1,"day"),r=[];a.isBefore(n,"day");)r.push(Array(7).fill(0).map((function(){return a.add(1,"day").clone()})));return r}function q(e){return function(e){return e.isBefore(new Date,"day")}(e)?"text-left before":function(e){return e.isSame(new Date,"day")}(e)?"text-left today":"text-left"}function K(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(T()(e.thisDay).startOf("day").toISOString()),j=Object(u.a)(s,2),d=j[0],h=j[1];return Object(r.useEffect)((function(){h(T()(e.thisDay).startOf("day").toISOString()),function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://organelle.pzny.xyz/events/time/"+d,n=localStorage.getItem("auth-token"),e.next=5,I.a.get(t,{headers:{"x-auth-token":n}});case 5:a=e.sent,o(a.data),console.log("called"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("This is event res ERR:"),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[e.render,e.action]),Object(a.jsx)("div",{children:Object(a.jsx)(y.a,{children:c.sort((function(e,t){return t.priority-e.priority||Date.parse(e.endTime)-Date.parse(t.endTime)})).slice(0,4).map((function(t){return Object(a.jsx)(y.a.Item,{onClick:function(){return e.action(t._id)},action:!0,variant:A(t.priority),children:Object(a.jsxs)("div",{className:"title-list",children:[t.title.substring(0,10)," | ",T()(t.endTime).format("LT")]})})}))})})}function Q(e){var t=Object(r.useState)(e.show),n=Object(u.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)([]),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(""),p=Object(u.a)(b,2),O=p[0],x=p[1],g="",f=Object(r.useState)(""),v=Object(u.a)(f,1)[0],y="",k=0,S=Object(r.useState)(T()(e.day).startOf("day").toISOString()),C=Object(u.a)(S,2),N=C[0],E=C[1],G=Object(r.useState)(T()(e.day)),P=Object(u.a)(G,2),B=P[0],H=P[1],F=Object(r.useState)(),A=Object(u.a)(F,2),M=A[0],R=A[1];function W(){return e.action()}Object(r.useEffect)((function(){o(e.show),function(){var e=localStorage.getItem("auth-token"),t="http://organelle.pzny.xyz/courses/all";I.a.get(t,{headers:{"x-auth-token":e}}).then((function(e){h(e.data)})).catch((function(e){console.log(e)}))}()}),[e.show,e.day]);var V=function(){var t=Object(l.a)(i.a.mark((function t(n){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,g=document.getElementById("formGroupName").value,y=document.getElementById("formGroupDescription").value,k="High"===document.getElementById("formGroupPriority").value?3:"Medium"===document.getElementById("formGroupPriority").value?2:1,a={title:g,type:v,startTime:N,endTime:B,priority:k,description:y,courseName:O},"http://organelle.pzny.xyz/events/add",r=localStorage.getItem("auth-token"),t.next=10,I.a.post("http://organelle.pzny.xyz/events/add",a,{headers:{"x-auth-token":r}});case 10:return t.sent,t.abrupt("return",e.action());case 14:t.prev=14,t.t0=t.catch(1),R(t.t0.response.data.msg);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(w.a,{show:c,onHide:W,backdrop:"static",keyboard:!1,animation:!1,children:[Object(a.jsx)(w.a.Header,{closeButton:!0,children:Object(a.jsx)(w.a.Title,{children:"New Event"})}),Object(a.jsx)(w.a.Body,{children:Object(a.jsxs)(z.a,{children:[M&&Object(a.jsx)(L,{message:M,clearError:function(){return R(void 0)}}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupName",children:[Object(a.jsx)(z.a.Label,{children:"Event Name *"}),Object(a.jsx)(z.a.Control,{type:"name",placeholder:"What is this event?"})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupCourse",children:[Object(a.jsx)(z.a.Label,{children:"Course"}),Object(a.jsxs)(z.a.Control,{as:"select",defaultValue:O,onChange:function(e){return x(e.target.value)},children:[Object(a.jsx)("option",{children:"Choose from Enrolled Courses"}),d.map((function(e,t){return Object(a.jsx)("option",{children:e.courseName},t)}))]})]}),Object(a.jsxs)(z.a.Group,{children:[Object(a.jsx)(z.a.Label,{children:"Due Time"}),Object(a.jsx)(D.a,{initialValue:T()(e.day),dateFormat:!1,onChange:function(e){return function(e){E(T()(e).startOf("day").toISOString()),H(e)}(e)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupDescription",children:[Object(a.jsx)(z.a.Label,{children:"Event Description"}),Object(a.jsx)(z.a.Control,{type:"description",as:"textarea",rows:3,placeholder:"Any notes for this event?"})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupPriority",children:[Object(a.jsx)(z.a.Label,{children:"Priority"}),Object(a.jsxs)(z.a.Control,{value:"Low",as:"select",defaultValue:"How important is this event?",children:[Object(a.jsx)("option",{children:"High"}),Object(a.jsx)("option",{children:"Medium"}),Object(a.jsx)("option",{children:"Low"})]})]})]})}),Object(a.jsxs)(w.a.Footer,{children:[Object(a.jsx)(m.a,{variant:"primary",onClick:V,children:"Save"}),Object(a.jsx)(m.a,{variant:"primary",onClick:W,children:"Cancel"})]})]})}function Z(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(""),p=Object(u.a)(b,2),O=p[0],x=p[1],g=Object(r.useState)(""),f=Object(u.a)(g,2),v=f[0],y=f[1],k=Object(r.useState)(T()()),S=Object(u.a)(k,2),C=S[0],N=S[1],E=Object(r.useState)(T()()),L=Object(u.a)(E,2),G=L[0],P=L[1],B=Object(r.useState)(""),H=Object(u.a)(B,2),F=H[0],A=H[1],M=Object(r.useState)([]),R=Object(u.a)(M,2),W=R[0],V=R[1],_=Object(r.useState)(e.show),U=Object(u.a)(_,2),Y=U[0],J=U[1],X="http://organelle.pzny.xyz/events/";function q(){return e.action()}Object(r.useEffect)((function(){J(e.show),function(){var t=localStorage.getItem("auth-token"),n=X+e.id;I.a.get(n,{headers:{"x-auth-token":t}}).then((function(e){o(e.data.title),A(e.data.courseName),h(e.data.description),x(e.data.priority),N(e.data.startTime),P(T()(e.data.endTime).format("LLLL")),y(e.data.type)})).catch((function(e){console.log(e)}))}(),function(){var e=localStorage.getItem("auth-token"),t="http://organelle.pzny.xyz/courses/all";I.a.get(t,{headers:{"x-auth-token":e}}).then((function(e){V(e.data)})).catch((function(e){console.log(e)}))}(),x(""),y(""),N(""),h(""),A(""),P(""),o("")}),[e.show,e.id]);var K=function(){var t=Object(l.a)(i.a.mark((function t(n){var a,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,P(T()(G).toISOString()),a={title:c,type:v,startTime:C,endTime:G,priority:O,description:d,courseName:F},r="http://organelle.pzny.xyz/events/"+e.id,o=localStorage.getItem("auth-token"),t.next=8,I.a.put(r,a,{headers:{"x-auth-token":o}});case 8:t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:return t.abrupt("return",e.action());case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(w.a,{show:Y,onHide:q,backdrop:"static",keyboard:!1,animation:!1,children:[Object(a.jsx)(w.a.Header,{closeButton:!0,children:Object(a.jsx)(w.a.Title,{children:"Edit Event"})}),Object(a.jsx)(w.a.Body,{children:Object(a.jsxs)(z.a,{children:[Object(a.jsxs)(z.a.Group,{controlId:"formGroupName",children:[Object(a.jsx)(z.a.Label,{children:"Event Name"}),Object(a.jsx)(z.a.Control,{type:"title",placeholder:c,onChange:function(e){return o(e.target.value)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupCourse",children:[Object(a.jsxs)(z.a.Label,{children:["Course: ",F," "]}),Object(a.jsxs)(z.a.Control,{as:"select",onChange:function(e){return A(e.target.value)},children:[Object(a.jsx)("option",{children:"Choose from Enrolled Courses"}),W.map((function(e,t){return Object(a.jsx)("option",{children:e.courseName},t)}))]})]}),Object(a.jsxs)(z.a.Group,{controlId:"formDatePicker",children:[Object(a.jsxs)(z.a.Label,{children:["End Time: ",G]}),Object(a.jsx)(D.a,{onChange:function(e){return function(e){N(T()(e).startOf("day").toISOString()),P(T()(e).format("LLLL"))}(e)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupDescription",children:[Object(a.jsx)(z.a.Label,{children:"Event Description"}),Object(a.jsx)(z.a.Control,{type:"description",as:"textarea",rows:3,placeholder:d,onChange:function(e){return h(e.target.value)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupType",children:[Object(a.jsx)(z.a.Label,{children:"Event Type"}),Object(a.jsx)(z.a.Control,{type:"type",placeholder:v,onChange:function(e){return y(e.target.value)}})]}),Object(a.jsxs)(z.a.Group,{controlId:"formGroupPriority",children:[Object(a.jsx)(z.a.Label,{children:O<0?"This event is checked-off. Select the drop-down option below to change:":"Change Priority:"}),Object(a.jsxs)(z.a.Control,{value:O,as:"select",onChange:function(e){return x(e.target.value)},children:[Object(a.jsx)("option",{value:"3",children:"High"}),Object(a.jsx)("option",{value:"2",children:"Median"}),Object(a.jsx)("option",{value:"1",children:"Low"})]})]})]})}),Object(a.jsxs)(w.a.Footer,{children:[Object(a.jsx)(m.a,{variant:"primary",onClick:K,children:"Save"}),Object(a.jsx)(m.a,{onClick:function(){return function(e){if(window.confirm("This will permanently delete the event. Are you sure?")){var t=localStorage.getItem("auth-token");I.a.delete(X+e,{headers:{"x-auth-token":t}}).then((function(e){console.log(e),q()})).catch((function(e){console.log(e)}))}}(e.id)},children:"Delete"}),Object(a.jsx)(m.a,{variant:"primary",onClick:q,children:"Cancel"})]})]})}function $(){var e=Object(r.useState)(T()()),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(X(n)),s=Object(u.a)(o,2),i=s[0],l=s[1],j=Object(r.useState)(!1),d=Object(u.a)(j,2),h=d[0],b=d[1],p=Object(r.useState)(!1),O=Object(u.a)(p,2),x=O[0],g=O[1],f=Object(r.useState)(T()()),y=Object(u.a)(f,2),k=y[0],S=y[1],C=Object(r.useState)(""),w=Object(u.a)(C,2),z=w[0],N=w[1],I=function(e){S(e),b(!h)},E=function(e){N(e),g(!x)};return Object(r.useEffect)((function(){}),[i,n,h]),Object(a.jsxs)("div",{children:[Object(a.jsx)(v,{}),Object(a.jsx)(Q,{action:I,show:h,day:k}),Object(a.jsx)(Z,{action:E,show:x,id:z}),Object(a.jsx)("div",{className:"top-padding",children:Object(a.jsx)(J,{value:n,nextMonth:function(){return c(n.add(1,"month")),l(X(n)),n},prevMonth:function(){return c(n.subtract(1,"month")),l(X(n)),n}})}),Object(a.jsxs)("div",{className:"top-right",children:[Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"calendar",children:[Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]}),Object(a.jsxs)("div",{className:"body",children:[Object(a.jsx)("div",{className:"day-names",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e){return Object(a.jsx)("div",{className:"week",children:e},e)}))}),i.map((function(e){return Object(a.jsx)("div",{children:e.map((function(e){return Object(a.jsxs)("div",{className:"day",children:[Object(a.jsx)("div",{className:"button-align ".concat("text-left before"===q(e)?"before":""),children:Object(a.jsx)(m.a,{onClick:function(){return I(e)},variant:"light",size:"sm",children:"+"})}),Object(a.jsx)("div",{className:q(e),children:e.format("D")}),Object(a.jsx)("div",{className:"list-events list-overflow",children:Object(a.jsx)(K,{action:E,thisDay:e,render:h})})]},e)}))},e)}))]})]})]})]})}var ee=n(69),te=n(70),ne=n(25),ae=n(73),re=n(72),ce=(n(148),function(e){Object(ae.a)(n,e);var t=Object(re.a)(n);function n(e){var a;return Object(ee.a)(this,n),(a=t.call(this,e)).state={email:"dummy@email.com",inputEmail:"dummy@email.com",notificationSetting:!1,autoSyncSetting:!1,inputPassword:"",canvasToken:""},a.handleImportCanvas=a.handleImportCanvas.bind(Object(ne.a)(a)),a.handleAutoSyncSetting=a.handleAutoSyncSetting.bind(Object(ne.a)(a)),a.handleEmailSetting=a.handleEmailSetting.bind(Object(ne.a)(a)),a.handleEmailChange=a.handleEmailChange.bind(Object(ne.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(ne.a)(a)),a.scheduleSend=a.scheduleSend.bind(Object(ne.a)(a)),a}return Object(te.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("auth-token");I.a.get("http://organelle.pzny.xyz/users/setting",{headers:{"x-auth-token":t}}).then((function(t){e.setState({inputEmail:t.data.email}),e.setState({email:t.data.email}),e.setState({autoSyncSetting:t.data.autoSyncSetting}),e.setState({notificationSetting:t.data.emailSetting})}))}},{key:"handleAutoSyncSetting",value:function(e){this.setState({autoSyncSetting:e});var t={autoSyncSetting:e},n=localStorage.getItem("auth-token");I.a.put("http://organelle.pzny.xyz/users/updatesyncsetting",t,{headers:{"x-auth-token":n}})}},{key:"scheduleSend",value:function(){try{var e=localStorage.getItem("auth-token");console.log(this.state.email);var t={email:this.state.email};I.a.post("http://organelle.pzny.xyz/events/emailstart",t,{headers:{"x-auth-token":e}}),window.alert("Email sent successfully.")}catch(n){console.log("SCHE ERR"),console.log(n)}}},{key:"handleEmailSetting",value:function(e){this.setState({notificationSetting:e});var t={emailSetting:e},n=localStorage.getItem("auth-token");I.a.put("http://organelle.pzny.xyz/users/updateemailsetting",t,{headers:{"x-auth-token":n}})}},{key:"handleEmailChange",value:function(e){this.setState({email:this.state.inputEmail});var t={email:this.state.inputEmail},n=localStorage.getItem("auth-token");I.a.put("http://organelle.pzny.xyz/users/updateemail",t,{headers:{"x-auth-token":n}})}},{key:"handlePasswordChange",value:function(){var e={password:this.state.inputPassword},t=localStorage.getItem("auth-token");I.a.put("http://organelle.pzny.xyz/users/updatepassword",e,{headers:{"x-auth-token":t}})}},{key:"handleImportCanvas",value:function(){var e=this.state.canvasToken,t={headers:{Authorization:"Bearer ".concat(e)}};console.log(t);I.a.get("https://cors-anywhere.herokuapp.com/https://canvas.ucsd.edu/api/v1/calendar_events",t).then((function(e){var t=localStorage.getItem("auth-token");e.data.forEach((function(e){var n={title:e.title,type:e.type,startTime:e.start_at,endTime:e.end_at,priority:1,description:e.description,canvasID:e.id};console.log(n);I.a.post("http://organelle.pzny.xyz/events/add",n,{headers:{"x-auth-token":t}})}))})).catch((function(e){400===e.response.status&&window.alert(e.response.data.msg),console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.notificationSetting,c=t.autoSyncSetting;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(v,{}),Object(a.jsx)("div",{className:"top-right",children:Object(a.jsxs)("div",{className:"profile-form",children:[Object(a.jsx)("h4",{className:"profile-title",children:"Profile and Settings"}),Object(a.jsxs)("div",{className:"profile-body",children:[Object(a.jsxs)("h4",{children:["Welcome, ",n]}),Object(a.jsx)("p",{children:"Change your email"}),Object(a.jsx)("input",{className:"change-setting",type:"email",onChange:function(t){e.setState({inputEmail:t.target.value})}}),Object(a.jsx)("br",{}),Object(a.jsx)(m.a,{viriant:"light",onClick:this.handleEmailChange,children:"change"}),Object(a.jsx)("p",{children:"Change your password"}),Object(a.jsx)("input",{className:"change-setting",type:"password",onChange:function(t){e.setState({inputPassword:t.target.value})}}),Object(a.jsx)("br",{}),Object(a.jsx)(m.a,{viriant:"light",onClick:this.handlePasswordChange,children:"change"}),Object(a.jsxs)("p",{children:["Notification Email (Events for the next three days): ",r," "]}),Object(a.jsx)(m.a,{onClick:this.scheduleSend,children:"Send Email"}),Object(a.jsxs)("p",{children:["Canvas AutoSync Setting: ",c," "]}),Object(a.jsx)(R.a,{checked:c,onlabel:"on",onstyle:"success",offlabel:"off",offstyle:"danger",onChange:function(t){return e.handleAutoSyncSetting(t)}}),Object(a.jsx)("p",{children:"Get events from Canvas"}),Object(a.jsx)("input",{className:"change-setting",type:"password",placeholder:"Canvas token here",onChange:function(t){e.setState({canvasToken:t.target.value})}}),Object(a.jsx)("p",{}),Object(a.jsx)(m.a,{onClick:this.handleImportCanvas,children:"Import"})]})]})})]})})}}]),n}(r.Component));n(65);function oe(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1];function o(){return c(!1)}var s=Object(r.useState)(""),j=Object(u.a)(s,2),b=j[0],O=j[1],x=Object(r.useState)(),g=Object(u.a)(x,2),f=g[0],v=g[1],y=Object(r.useState)(),k=Object(u.a)(y,2),S=k[0],C=k[1],N=Object(r.useState)(),E=Object(u.a)(N,2),T=E[0],G=E[1],D=Object(r.useContext)(h).setUserData,P=Object(d.g)();var B=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:f,password:S},"http://organelle.pzny.xyz/users/login",e.next=6,I.a.post("http://organelle.pzny.xyz/users/login",n);case 6:a=e.sent,D({token:a.data.token,user:a.data.user}),localStorage.setItem("auth-token",a.data.token),P.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response.data.msg&&G(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"login-page",children:[Object(a.jsx)(p,{}),Object(a.jsxs)("div",{className:"login-bar",children:[Object(a.jsx)("h2",{children:"Log in"}),T&&Object(a.jsx)(L,{message:T,clearError:function(){return G(void 0)}}),Object(a.jsxs)("form",{className:"form",onSubmit:B,children:[Object(a.jsx)("label",{htmlFor:"login-email",children:"Email"}),Object(a.jsx)("input",{id:"login-email",type:"email",onChange:function(e){return v(e.target.value)}}),Object(a.jsx)("label",{htmlFor:"login-password",children:"Password"}),Object(a.jsx)("input",{id:"login-password",type:"password",onChange:function(e){return C(e.target.value)}}),Object(a.jsx)("input",{type:"submit",value:"Log in"}),Object(a.jsx)("button",{onClick:function(){return P.push("/")},children:"Go Back"}),Object(a.jsx)("button",{onClick:function(){return c(!0)},children:"Reset Password"})]})]}),Object(a.jsxs)(w.a,{show:n,onHide:o,backdrop:"static",keyboard:!1,animation:!1,children:[Object(a.jsx)(w.a.Header,{closeButton:!0,children:Object(a.jsx)(w.a.Title,{children:"Forget Password?"})}),Object(a.jsx)(w.a.Body,{children:Object(a.jsx)(z.a,{children:Object(a.jsxs)(z.a.Group,{controlId:"formGroupEmail",children:[Object(a.jsx)(z.a.Label,{children:"Email"}),Object(a.jsx)(z.a.Control,{type:"Email",placeholder:"What is your Email?",onChange:function(e){O(e.target.value)}}),Object(a.jsx)("span",{children:"Check your junk mail box if you can't find the email."})]})})}),Object(a.jsxs)(w.a.Footer,{children:[Object(a.jsx)(m.a,{variant:"primary",onClick:function(){var e={email:b};return I.a.post("http://organelle.pzny.xyz/users/forgot",e),c(!1)},children:"Send An Email"}),Object(a.jsx)(m.a,{variant:"primary",onClick:o,children:"Cancel"})]})]})]})}function se(){var e=Object(r.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(),s=Object(u.a)(o,2),j=s[0],b=s[1],O=Object(r.useState)(),x=Object(u.a)(O,2),g=x[0],f=x[1],m=Object(r.useState)(),v=Object(u.a)(m,2),y=v[0],k=v[1],S=Object(r.useState)(),C=Object(u.a)(S,2),w=C[0],z=C[1],N=Object(r.useContext)(h).setUserData,E=Object(d.g)(),T=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={email:n,password:j,passwordCheck:g,displayName:y},"http://organelle.pzny.xyz/users/register",r="http://organelle.pzny.xyz/users/login",e.next=7,I.a.post("http://organelle.pzny.xyz/users/register",a);case 7:return e.next=9,I.a.post(r,{email:n,password:j});case 9:c=e.sent,N({token:c.data.token,user:c.data.user}),localStorage.setItem("auth-token",c.data.token),E.push("/"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),e.t0.response.data.msg&&z(e.t0.response.data.msg);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"register-page",children:[Object(a.jsx)(p,{}),Object(a.jsxs)("div",{className:"register-bar",children:[Object(a.jsx)("h2",{children:"Register"}),w&&Object(a.jsx)(L,{message:w,clearError:function(){return z(void 0)}}),Object(a.jsxs)("form",{className:"form",onSubmit:T,children:[Object(a.jsx)("label",{htmlFor:"register-email",children:"Email"}),Object(a.jsx)("input",{id:"register-email",type:"email",onChange:function(e){return c(e.target.value)}}),Object(a.jsx)("label",{htmlFor:"register-password",children:"Password"}),Object(a.jsx)("input",{id:"register-password",type:"password",onChange:function(e){return b(e.target.value)}}),Object(a.jsx)("input",{type:"password",placeholder:"Verify password",onChange:function(e){return f(e.target.value)}}),Object(a.jsx)("label",{htmlFor:"register-display-name",children:"Display name"}),Object(a.jsx)("input",{id:"register-display-name",type:"text",onChange:function(e){return k(e.target.value)}}),Object(a.jsx)("input",{type:"submit",value:"Register"}),Object(a.jsx)("button",{onClick:function(){return E.push("/")},children:"Go Back"})]})]})]})}function ie(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(""),i=Object(u.a)(s,2),l=i[0],j=i[1];return Object(a.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault();var n={password:c,passwordCheck:l,id:e.match.params.id};console.log(n);I.a.post("http://organelle.pzny.xyz/users/reset",n).then((function(){e.history.push("/login")}))},children:[Object(a.jsx)("label",{htmlFor:"login-password",children:"New Password"}),Object(a.jsx)("input",{id:"login-password",type:"password",onChange:function(e){return o(e.target.value)}}),Object(a.jsx)("label",{htmlFor:"login-password",children:"Password Check"}),Object(a.jsx)("input",{id:"login-password",type:"password",onChange:function(e){return j(e.target.value)}}),Object(a.jsx)("input",{type:"submit",value:"Submit"})]})}var le=n(35),ue=n(71),je=function(e){var t=e.component,n=Object(ue.a)(e,["component"]);return Object(a.jsx)(d.b,Object(le.a)(Object(le.a)({},n),{},{render:function(e){return""!==localStorage.getItem("auth-token")?Object(a.jsx)(t,Object(le.a)({},e)):Object(a.jsx)(d.a,{to:"/login"})}}))};function de(){var e=Object(r.useState)({token:void 0,user:void 0}),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),"http://organelle.pzny.xyz/users/tokenIsValid",e.next=5,I.a.post("http://organelle.pzny.xyz/users/tokenIsValid",null,{header:{"x-auth-token":t}});case 5:if(!e.sent.data){e.next=12;break}return"http://organelle.pzny.xyz/users/users",e.next=10,I.a.get("http://organelle.pzny.xyz/users/users",{headers:{"x-auth-token":t}});case 10:n=e.sent,c({token:t,user:n.data});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(j.a,{children:Object(a.jsx)(h.Provider,{value:{userData:n,setUserData:c},children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{exact:!0,path:"/",component:f}),Object(a.jsx)(d.b,{path:"/login",component:oe}),Object(a.jsx)(d.b,{path:"/register",component:se}),Object(a.jsx)(d.b,{path:"/reset/:id",component:ie}),Object(a.jsx)(je,{path:"/todo",component:V}),Object(a.jsx)(je,{path:"/calendar",component:$}),Object(a.jsx)(je,{path:"/profile",component:ce})]})})})})}o.a.render(Object(a.jsx)(de,{}),document.getElementById("root"))},26:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){}},[[149,1,2]]]);
//# sourceMappingURL=main.ac3c32e3.chunk.js.map