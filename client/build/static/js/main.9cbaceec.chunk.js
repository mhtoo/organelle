(this.webpackJsonporganelle=this.webpackJsonporganelle||[]).push([[0],{26:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},93:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a(23),o=a.n(c),s=a(11),i=a.n(s),l=a(14),u=a(4),j=a(22),d=a(15),h=(a(67),Object(r.createContext)(null));function b(){var e=Object(r.useContext)(h).setUserData,t=Object(d.g)();return Object(n.jsx)("nav",{className:"auth-options",children:""!==localStorage.getItem("auth-token")?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{onClick:function(){e({token:void 0,user:void 0}),localStorage.setItem("auth-token","")},children:"Logout"}),Object(n.jsx)("button",{onClick:function(){return t.push("/calendar")},children:"Home"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{className:"btn",onClick:function(){return t.push("/register")},children:" Register "}),Object(n.jsx)("button",{className:"btn",onClick:function(){return t.push("/login")},children:" Log In "})]})})}function p(){return Object(n.jsxs)("div",{className:"welcome",children:[Object(n.jsx)("h3",{children:"welcome to"}),Object(n.jsx)("h1",{children:"Organelle"}),Object(n.jsx)("h3",{children:"The next-gen web class organizer"}),Object(n.jsx)(b,{})]})}var O=a.p+"static/media/calendar.f1d77f30.png",x=a.p+"static/media/todo.2fcc58e2.png",f=a.p+"static/media/canvasT.2564f62e.png";a(73);function g(){return Object(n.jsxs)("div",{className:"homePage",children:[Object(n.jsx)(p,{}),Object(n.jsxs)("section",{className:"features",children:[Object(n.jsx)("h1",{children:"Calendar"}),Object(n.jsxs)("div",{className:"f1grid",children:[Object(n.jsx)("img",{height:"250",width:"450",src:O,alt:"feature 1"}),Object(n.jsx)("p",{class:"vertical",children:"Get an overview of upcoming lectures and deadlines for the month using the Calendar view. You can add events individually, upload your own .ics calendar file, or import from Canvas. Organelle allows you to easily navigate your personal study plan by keeping you up to date on your tasks for the month."})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("h1",{children:"Canvas Compatibility"}),Object(n.jsxs)("div",{className:"f2grid",children:[Object(n.jsx)("img",{height:"200",width:"450",src:f,alt:"feature 2"}),Object(n.jsx)("p",{class:"vertical",children:"Already have important events on your Canvas calendar? Organelle saves you the hassle of manually uploading each event with its Import from Canvas capability. This allows you to include every event on your personal Canvas calendar on your Organelle account."})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("h1",{children:"To Do List"}),Object(n.jsxs)("div",{className:"f2grid",children:[Object(n.jsx)("img",{height:"230",width:"450",src:x,alt:"feature 2"}),Object(n.jsx)("p",{class:"vertical",children:"Break up the monotony of working from home with the To Do List view. With your upcoming deadlines organized into daily to do lists sorted by your personalized priority, Organelle helps you get a clear grasp of what you will be doing each day. Check off tasks as you go to monitor your progress."})]})]}),Object(n.jsxs)("section",{className:"story",children:[Object(n.jsx)("h2",{children:"Our Story"}),Object(n.jsx)("p",{children:"With the new normal of online learning, the modern student must juggle different class websites, emails, and syllabi in order to navigate their courses. Organelle\ufffds flexibility allows students to create a personalized homepage of deadlines and events, allowing students to organize their planner to their needs. We strive to help students succeed in their online classes by giving them the tools to stay on top of their learning."})]}),Object(n.jsx)("section",{className:"experience"}),Object(n.jsx)("footer",{children:"Organelle. \xa9 All rights reserved."})]})}a(74);var m=a(10);function v(){var e=Object(r.useContext)(h).setUserData,t=Object(d.g)();return Object(n.jsxs)("nav",{className:"navibar-default navbar-dark",children:[Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)("h1",{className:"logo",children:"ORGANELLE"})}),Object(n.jsxs)("ul",{className:"navbar-nav",children:[Object(n.jsxs)("li",{className:"nav-item navibar-side",children:[Object(n.jsx)("a",{href:"/calendar",className:"nav-link",children:"Calendar"}),Object(n.jsx)("div",{className:"dropdown-divider"}),Object(n.jsx)("a",{href:"/todo",className:"nav-link",children:"Todo"}),Object(n.jsx)("div",{className:"dropdown-divider"}),Object(n.jsx)("a",{href:"https://canvas.ucsd.edu",className:"nav-link",children:"Canvas"}),Object(n.jsx)("div",{className:"dropdown-divider"}),Object(n.jsx)("a",{href:"/profile",className:"nav-link",children:"Profile"})]}),Object(n.jsx)("div",{className:"logout-button",children:Object(n.jsx)(m.a,{variant:"outline-danger",onClick:function(){e({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),t.push("/")},children:"Logout"})})]})]})}a(26);var y=a(30),k=a(17),S=a(29),C=a(54),w=a(8),z=a(3),I=a(7),N=a.n(I),E=a(13),T=a.n(E);a(93);function L(e){return Object(n.jsxs)("div",{className:"error-notice",children:[Object(n.jsx)("span",{children:e.message}),Object(n.jsx)("button",{onClick:e.clearError,children:"X"})]})}var G=a(27),D=a.n(G);a(33);function P(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(1),p=Object(u.a)(b,2),O=p[0],x=p[1],f=Object(r.useState)(""),g=Object(u.a)(f,2),v=g[0],y=g[1],k=Object(r.useState)(),S=Object(u.a)(k,2),C=S[0],I=S[1],E=Object(r.useState)(),G=Object(u.a)(E,2),P=G[0],B=G[1],H=Object(r.useState)([]),F=Object(u.a)(H,2),A=F[0],R=F[1],M=Object(r.useState)(""),U=Object(u.a)(M,2),W=U[0],V=U[1],_=Object(r.useState)(e.show),Y=Object(u.a)(_,2),J=Y[0],X=Y[1],q=Object(r.useState)(),K=Object(u.a)(q,2),Q=K[0],Z=K[1];function $(){return e.action()}Object(r.useEffect)((function(){X(e.show),function(){var e=localStorage.getItem("auth-token"),t="http://organelle.pzny.xyz/courses/all";N.a.get(t,{headers:{"x-auth-token":e}}).then((function(e){R(e.data)})).catch((function(e){console.log(e)}))}()}),[e.show]);var ee=function(){var t=Object(l.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n={title:c,type:v,startTime:C,endTime:P,priority:O,description:d,courseName:W},"http://organelle.pzny.xyz/events/add",r=localStorage.getItem("auth-token"),t.next=7,N.a.post("http://organelle.pzny.xyz/events/add",n,{headers:{"x-auth-token":r}});case 7:return t.abrupt("return",e.action());case 10:t.prev=10,t.t0=t.catch(1),Z(t.t0.response.data.msg);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)(w.a,{show:J,onHide:$,backdrop:"static",keyboard:!1,animation:!1,children:[Object(n.jsx)(w.a.Header,{closeButton:!0,children:Object(n.jsx)(w.a.Title,{children:"New Event"})}),Object(n.jsx)(w.a.Body,{children:Object(n.jsxs)(z.a,{children:[Q&&Object(n.jsx)(L,{message:Q,clearError:function(){return Z(void 0)}}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupName",children:[Object(n.jsx)(z.a.Label,{children:"Event Name *"}),Object(n.jsx)(z.a.Control,{type:"name",placeholder:"What is this event?",onChange:function(e){return o(e.target.value)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupCourse",children:[Object(n.jsx)(z.a.Label,{children:"Course"}),Object(n.jsxs)(z.a.Control,{as:"select",defaultValue:"Choose...",onChange:function(e){return V(e.target.value)},children:[Object(n.jsx)("option",{children:"Choose..."}),A.map((function(e,t){return Object(n.jsx)("option",{children:e.courseName},t)}))]})]}),Object(n.jsxs)(z.a.Group,{controlId:"formDatePicker",children:[Object(n.jsx)(z.a.Label,{children:"Due Date"}),Object(n.jsx)(D.a,{onChange:function(e){return function(e){I(T()(e).startOf("day").toISOString()),B(e)}(e)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupDescription",children:[Object(n.jsx)(z.a.Label,{children:"Event Description"}),Object(n.jsx)(z.a.Control,{type:"description",as:"textarea",rows:3,placeholder:"Any notes for this event?",onChange:function(e){return h(e.target.value)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupType",children:[Object(n.jsx)(z.a.Label,{children:"Event Type"}),Object(n.jsx)(z.a.Control,{type:"type",placeholder:"Is this a Lecture or Discussion or Assignment or Something else?",onChange:function(e){return y(e.target.value)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupPriority",children:[Object(n.jsx)(z.a.Label,{children:"Priority"}),Object(n.jsxs)(z.a.Control,{defaultValue:"1",as:"select",onChange:function(e){return x(e.target.value)},children:[Object(n.jsx)("option",{value:"3",children:"High"}),Object(n.jsx)("option",{value:"2",children:"Medium"}),Object(n.jsx)("option",{value:"1",children:"Low"})]})]})]})}),Object(n.jsxs)(w.a.Footer,{children:[Object(n.jsx)(m.a,{variant:"primary",onClick:ee,children:"Save"}),Object(n.jsx)(m.a,{variant:"primary",onClick:$,children:"Cancel"})]})]})}function B(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(e.show),p=Object(u.a)(b,2),O=p[0],x=p[1];function f(){return e.action()}Object(r.useEffect)((function(){x(e.show)}),[e.show]);var g=function(){var t=Object(l.a)(i.a.mark((function t(a){var n,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n={courseName:c,professor:d},console.log(n),"http://organelle.pzny.xyz/courses/add",r=localStorage.getItem("auth-token"),t.next=8,N.a.post("http://organelle.pzny.xyz/courses/add",n,{headers:{"x-auth-token":r}});case 8:o=t.sent,console.log("This is course res:",o),window.alert("added ",c),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(1),400===t.t0.response.status&&window.alert(t.t0.response.data.msg),console.log("This is course res ERR:"),console.log(t.t0);case 18:return t.abrupt("return",e.action());case 19:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)(w.a,{show:O,onHide:f,backdrop:"static",keyboard:!1,animation:!1,children:[Object(n.jsx)(w.a.Header,{closeButton:!0,children:Object(n.jsx)(w.a.Title,{children:"New Course"})}),Object(n.jsx)(w.a.Body,{children:Object(n.jsxs)(z.a,{children:[Object(n.jsxs)(z.a.Group,{controlId:"formGroupName",children:[Object(n.jsx)(z.a.Label,{children:"Course Name"}),Object(n.jsx)(z.a.Control,{type:"name",placeholder:"What is this course name? e.g.CSE110",onChange:function(e){return o(e.target.value)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupProfessor",children:[Object(n.jsx)(z.a.Label,{children:"Professor"}),Object(n.jsx)(z.a.Control,{type:"course",placeholder:"Who is the professor of this course?",onChange:function(e){return h(e.target.value)}})]})]})}),Object(n.jsxs)(w.a.Footer,{children:[Object(n.jsx)(m.a,{variant:"primary",onClick:g,children:"Save"}),Object(n.jsx)(m.a,{variant:"primary",onClick:f,children:"Cancel"})]})]})}function H(e){var t=Object(r.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(e.show),p=Object(u.a)(b,2),O=p[0],x=p[1];function f(){return e.action()}Object(r.useEffect)((function(){x(e.show),function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("auth-token"),"http://organelle.pzny.xyz/courses/all",e.next=5,N.a.get("http://organelle.pzny.xyz/courses/all",{headers:{"x-auth-token":t}});case 5:a=e.sent,o(a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[e.show,c]);var g=function(){var t=Object(l.a)(i.a.mark((function t(a){var n,r,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n={courseName:d},console.log(n),r="http://organelle.pzny.xyz/courses/"+d,c=localStorage.getItem("auth-token"),t.next=8,N.a.delete(r,{headers:{"x-auth-token":c}});case 8:o=t.sent,console.log("This is course res:",o),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),console.log("This is course res ERR:"),console.log(t.t0);case 16:return t.abrupt("return",e.action());case 17:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)(w.a,{show:O,onHide:f,backdrop:"static",keyboard:!1,animation:!1,children:[Object(n.jsx)(w.a.Header,{closeButton:!0,children:Object(n.jsx)(w.a.Title,{children:"Drop the Course"})}),Object(n.jsx)(w.a.Body,{children:Object(n.jsxs)(z.a,{children:[Object(n.jsxs)(z.a.Group,{controlId:"formGroupCourse",children:[Object(n.jsx)(z.a.Label,{children:"Course"}),Object(n.jsxs)(z.a.Control,{as:"select",defaultValue:"Choose...",onChange:function(e){return h(e.target.value)},children:[Object(n.jsx)("option",{children:"Choose..."}),c.map((function(e,t){return Object(n.jsx)("option",{children:e.courseName},t)}))]})]}),Object(n.jsx)(z.a.Group,{children:Object(n.jsx)("b",{children:"Warning: I know this operation will deletes all events that relevant to this course."})})]})}),Object(n.jsxs)(w.a.Footer,{children:[Object(n.jsx)(m.a,{variant:"primary",onClick:g,children:"Drop"}),Object(n.jsx)(m.a,{variant:"primary",onClick:f,children:"Cancel"})]})]})}function F(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(""),p=Object(u.a)(b,2),O=p[0],x=p[1],f=Object(r.useState)(""),g=Object(u.a)(f,2),v=g[0],y=g[1],k=Object(r.useState)(""),S=Object(u.a)(k,2),C=S[0],I=S[1],E=Object(r.useState)(""),L=Object(u.a)(E,2),G=L[0],P=L[1],B=Object(r.useState)(""),H=Object(u.a)(B,2),F=H[0],A=H[1],R=Object(r.useState)([]),M=Object(u.a)(R,2),U=M[0],W=M[1],V=Object(r.useState)(e.show),_=Object(u.a)(V,2),Y=_[0],J=_[1];function X(){return e.action()}Object(r.useEffect)((function(){J(e.show),function(){var t=localStorage.getItem("auth-token"),a="http://organelle.pzny.xyz/events/"+e.id;N.a.get(a,{headers:{"x-auth-token":t}}).then((function(e){console.log(e),o(e.data.title),A(e.data.courseName),h(e.data.description),x(e.data.priority),I(e.data.startTime),P(e.data.endTime),y(e.data.type)})).catch((function(e){console.log(e)}))}(),function(){var e=localStorage.getItem("auth-token"),t="http://organelle.pzny.xyz/courses/all";N.a.get(t,{headers:{"x-auth-token":e}}).then((function(e){W(e.data)})).catch((function(e){console.log(e)}))}(),x(""),y(""),I(""),h(""),A(""),P(""),o("")}),[e.show,e.id]);var q=function(){var t=Object(l.a)(i.a.mark((function t(a){var n,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,P(T()(G).toISOString()),n={title:c,type:v,startTime:C,endTime:G,priority:O,description:d,courseName:F},r="http://organelle.pzny.xyz/events/"+e.id,o=localStorage.getItem("auth-token"),t.next=8,N.a.put(r,n,{headers:{"x-auth-token":o}});case 8:t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:return t.abrupt("return",e.action());case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)(w.a,{show:Y,onHide:X,backdrop:"static",keyboard:!1,animation:!1,children:[Object(n.jsx)(w.a.Header,{closeButton:!0,children:Object(n.jsx)(w.a.Title,{children:"Edit Event"})}),Object(n.jsx)(w.a.Body,{children:Object(n.jsxs)(z.a,{children:[Object(n.jsxs)(z.a.Group,{controlId:"formGroupName",children:[Object(n.jsx)(z.a.Label,{children:"Event Name"}),Object(n.jsx)(z.a.Control,{type:"title",placeholder:c,onChange:function(e){return o(e.target.value)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupCourse",children:[Object(n.jsx)(z.a.Label,{children:"Course"}),Object(n.jsxs)(z.a.Control,{as:"select",defaultValue:F,onChange:function(e){return A(e.target.value)},children:[Object(n.jsx)("option",{children:"Choose from Enrolled Courses"}),U.map((function(e,t){return Object(n.jsx)("option",{children:e.courseName},t)}))]})]}),Object(n.jsxs)(z.a.Group,{controlId:"formDatePicker",children:[Object(n.jsxs)(z.a.Label,{children:["End Time: ",T()(G).format("LLLL")]}),Object(n.jsx)(D.a,{onChange:function(e){return function(e){I(T()(e).startOf("day").toISOString()),P(T()(e))}(e)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupDescription",children:[Object(n.jsx)(z.a.Label,{children:"Event Description"}),Object(n.jsx)(z.a.Control,{type:"description",as:"textarea",rows:3,placeholder:d,onChange:function(e){return h(e.target.value)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupType",children:[Object(n.jsx)(z.a.Label,{children:"Event Type"}),Object(n.jsx)(z.a.Control,{type:"type",placeholder:v,onChange:function(e){return y(e.target.value)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupPriority",children:[Object(n.jsx)(z.a.Label,{children:O<0?"This event is checked-off. Select the drop-down option below to change:":"Change Priority:"}),Object(n.jsxs)(z.a.Control,{value:O,as:"select",onChange:function(e){return x(e.target.value)},children:[Object(n.jsx)("option",{value:"3",children:"High"}),Object(n.jsx)("option",{value:"2",children:"Medium"}),Object(n.jsx)("option",{value:"1",children:"Low"})]})]})]})}),Object(n.jsxs)(w.a.Footer,{children:[Object(n.jsx)(m.a,{variant:"primary",onClick:q,children:"Save"}),Object(n.jsx)(m.a,{variant:"primary",onClick:X,children:"Cancel"})]})]})}function A(e){return function(e){return 3===e}(e)?"danger":function(e){return 2===e}(e)?"warning":function(e){return e<0}(e)?"secondary":"success"}var R=a(34),M=a.n(R);function U(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(!1),s=Object(u.a)(o,2),j=s[0],d=s[1],h=function(){d(!j)},b=Object(r.useState)(!1),p=Object(u.a)(b,2),O=p[0],x=p[1],f=function(){x(!O)},g=Object(r.useState)(!1),v=Object(u.a)(g,2),w=v[0],z=v[1],I=function(){z(!w)},E=Object(r.useState)(!1),L=Object(u.a)(E,2),G=L[0],D=L[1],R=function(){D(!G)},U=Object(r.useState)([]),W=Object(u.a)(U,2),V=W[0],_=W[1],Y=Object(r.useState)(!1),J=Object(u.a)(Y,2),X=J[0],q=J[1],K=Object(r.useState)(!1),Q=Object(u.a)(K,2),Z=Q[0],$=Q[1],ee=Object(r.useState)(!1),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],re="http://organelle.pzny.xyz/events/";Object(r.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,re+"all",t=localStorage.getItem("auth-token"),e.next=5,N.a.get("http://organelle.pzny.xyz/events/all",{headers:{"x-auth-token":t}});case 5:a=e.sent,_(a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[X,ae,O,w,G,j]);return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"EventListHeader",children:[Object(n.jsx)(P,{action:f,show:O}),Object(n.jsx)(B,{action:I,show:w}),Object(n.jsx)(H,{action:R,show:G}),Object(n.jsx)(F,{action:h,show:j,id:a}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(k.a,{lg:6,children:"TodoList"}),Object(n.jsxs)(S.a,{lg:1,children:[Object(n.jsx)(k.a,{lg:"auto",children:Object(n.jsx)(m.a,{variant:"dark",size:"lg",onClick:f,children:"Add an Event"})}),Object(n.jsx)(k.a,{lg:"auto",children:Object(n.jsx)(m.a,{variant:"dark",size:"lg",onClick:I,children:"Create a Course"})}),Object(n.jsx)(k.a,{lg:"auto",children:Object(n.jsx)(m.a,{variant:"dark",size:"lg",onClick:R,children:"Drop a Course"})})]})]})]}),Object(n.jsx)(y.a,{variant:"flush",children:V.sort((function(e,t){return t.priority-e.priority||Date.parse(e.endTime)-Date.parse(t.endTime)})).map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsxs)("p",{children:[">"," Deadline: ",(t=e.endTime,T()(t).format("LLLL"))]}),Object(n.jsx)(y.a.Item,{variant:A(e.priority),className:"listgroupEvent",children:Object(n.jsxs)(S.a,{children:[Object(n.jsx)(k.a,{xs:8,children:e.title}),Object(n.jsx)(k.a,{xs:1,children:Object(n.jsxs)(C.a,{className:"mb-2",children:[Object(n.jsx)(m.a,{onClick:function(){return c(e._id),h(),void $(!Z)},children:"Edit"}),Object(n.jsx)(m.a,{onClick:function(){return function(e){if(window.confirm("This will permanently delete the event. Are you sure?")){var t=localStorage.getItem("auth-token");N.a.delete(re+e,{headers:{"x-auth-token":t}}).then((function(e){q(!X),console.log(X),console.log(e)})).catch((function(e){console.log(e)}))}}(e._id)},children:"Delete"}),Object(n.jsx)(M.a,{checked:-1*e.priority>0,onlabel:"\u2713",onstyle:"success",offlabel:"\u2717",offstyle:"danger",onChange:function(t){t?function(e){var t=localStorage.getItem("auth-token");N.a.get(re+e,{headers:{"x-auth-token":t}}).then((function(a){var n=a.data.priority;a.data.priority>0&&(n=0-a.data.priority);var r={title:a.data.title,type:a.data.type,startTime:a.data.startTime,endTime:a.data.endTime,priority:n,description:a.data.description,courseName:a.data.courseName};console.log(r);var c=re+e;N.a.put(c,r,{headers:{"x-auth-token":t}}).then((function(){ne(!ae)})).catch()})).catch((function(e){console.log(e)}))}(e._id):function(e){var t=localStorage.getItem("auth-token");N.a.get(re+e,{headers:{"x-auth-token":t}}).then((function(a){var n=a.data.priority;a.data.priority<0&&(n=0-a.data.priority);var r={title:a.data.title,type:a.data.type,startTime:a.data.startTime,endTime:a.data.endTime,priority:n,description:a.data.description,courseName:a.data.courseName};console.log(r);var c=re+e;N.a.put(c,r,{headers:{"x-auth-token":t}}).then((function(){ne(!ae)})).catch()})).catch((function(e){console.log(e)}))}(e._id)}})]})})]})})]});var t}))})]})}function W(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(v,{}),Object(n.jsx)("div",{className:"top-left",children:Object(n.jsx)(U,{})})]})}var V=a(55),_=(a(97),a(41));function Y(e){var t=Object(r.useState)(e.show),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],h=j[1];Object(r.useEffect)((function(){o(e.show)}),[e.show]);var b=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("auth-token"),(n=new FormData).append("file",d),"http://organelle.pzny.xyz/calendar/load",e.prev=4,e.next=7,N.a.post("http://organelle.pzny.xyz/calendar/load",n,{headers:{"x-auth-token":a}});case 7:r=e.sent,console.log(r.data.msg),alert(r.data.msg),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(w.a,{show:c,onHide:function(){return e.action()},backdrop:"static",keyboard:!1,animation:!1,children:[Object(n.jsx)(w.a.Header,{closeButton:!0,children:Object(n.jsx)(w.a.Title,{children:"Upload calendar file"})}),Object(n.jsx)(w.a.Body,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"file",onChange:function(e){h(e.target.files[0])}}),Object(n.jsx)("button",{className:"btn btn-success",onClick:b,children:"Upload"})]})})]})}function J(e){var t=Object(r.useState)(e.value),a=Object(u.a)(t,1)[0];var c=Object(r.useState)(!1),o=Object(u.a)(c,2),s=o[0],j=o[1],d=function(){j(!s)},h=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://organelle.pzny.xyz/calendar/get",a=localStorage.getItem("auth-token"),e.next=4,N.a.get("http://organelle.pzny.xyz/calendar/get",{headers:{"x-auth-token":a}});case 4:n=e.sent,r=document.createElement("a"),c=new Blob([n.data],{type:n.headers["content-type"]}),r.href=URL.createObjectURL(c),r.download="organelle.ics",r.click(),URL.revokeObjectURL(r.href);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)(Y,{action:d,show:s}),Object(n.jsx)(V.a,{children:Object(n.jsxs)(S.a,{children:[Object(n.jsx)(k.a,{xl:1,children:Object(n.jsx)(_.a,{children:Object(n.jsx)(m.a,{variant:"dark",size:"lg",onClick:function(){return e.prevMonth()},children:"Previous"})})}),Object(n.jsx)(k.a,{xl:7,children:Object(n.jsx)("h1",{class:"text-dark",align:"center",children:Object(n.jsxs)("div",{children:[a.format("MMMM"),"   ",a.format("YYYY")]})})}),Object(n.jsx)(k.a,{xl:4,children:Object(n.jsxs)(_.a,{children:[Object(n.jsx)(m.a,{variant:"dark",size:"lg",onClick:function(){return e.nextMonth()},children:"Next"}),Object(n.jsx)(m.a,{variant:"dark",size:"lg",onClick:h,children:"Export Calendar File"}),Object(n.jsx)(m.a,{variant:"dark",size:"lg",onClick:function(){return d()},children:"Import Calendar File"})]})})]})})]})}a(51);function X(e){for(var t=e.clone().startOf("month").startOf("week"),a=e.clone().endOf("month").endOf("week"),n=t.clone().subtract(1,"day"),r=[];n.isBefore(a,"day");)r.push(Array(7).fill(0).map((function(){return n.add(1,"day").clone()})));return r}function q(e){return function(e){return e.isBefore(new Date,"day")}(e)?"text-left before":function(e){return e.isSame(new Date,"day")}(e)?"text-left today":"text-left"}function K(e){var t=Object(r.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(T()(e.thisDay).startOf("day").toISOString()),j=Object(u.a)(s,2),d=j[0],h=j[1];return Object(r.useEffect)((function(){h(T()(e.thisDay).startOf("day").toISOString()),function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://organelle.pzny.xyz/events/time/"+d,a=localStorage.getItem("auth-token"),e.next=5,N.a.get(t,{headers:{"x-auth-token":a}});case 5:n=e.sent,o(n.data),console.log("called"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("This is event res ERR:"),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[e.render,e.action]),Object(n.jsx)("div",{children:Object(n.jsx)(y.a,{children:c.sort((function(e,t){return t.priority-e.priority||Date.parse(e.endTime)-Date.parse(t.endTime)})).slice(0,4).map((function(t){return Object(n.jsx)(y.a.Item,{onClick:function(){return e.action(t._id)},action:!0,variant:A(t.priority),children:Object(n.jsxs)("div",{className:"title-list",children:[t.title.substring(0,10)," | ",T()(t.endTime).format("LT")]})})}))})})}function Q(e){var t=Object(r.useState)(e.show),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)([]),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(""),p=Object(u.a)(b,2),O=p[0],x=p[1],f="",g=Object(r.useState)(""),v=Object(u.a)(g,1)[0],y="",k=0,S=Object(r.useState)(T()(e.day).startOf("day").toISOString()),C=Object(u.a)(S,2),I=C[0],E=C[1],G=Object(r.useState)(T()(e.day)),P=Object(u.a)(G,2),B=P[0],H=P[1],F=Object(r.useState)(),A=Object(u.a)(F,2),R=A[0],M=A[1];function U(e){E(T()(e).startOf("day").toISOString()),H(e)}function W(){return e.action()}Object(r.useEffect)((function(){o(e.show),function(){var e=localStorage.getItem("auth-token"),t="http://organelle.pzny.xyz/courses/all";N.a.get(t,{headers:{"x-auth-token":e}}).then((function(e){h(e.data)})).catch((function(e){console.log(e)}))}(),U(e.day)}),[e.show,e.day]);var V=function(){var t=Object(l.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,f=document.getElementById("formGroupName").value,y=document.getElementById("formGroupDescription").value,k="High"===document.getElementById("formGroupPriority").value?3:"Medium"===document.getElementById("formGroupPriority").value?2:1,n={title:f,type:v,startTime:I,endTime:B,priority:k,description:y,courseName:O},"http://organelle.pzny.xyz/events/add",r=localStorage.getItem("auth-token"),t.next=10,N.a.post("http://organelle.pzny.xyz/events/add",n,{headers:{"x-auth-token":r}});case 10:return t.sent,t.abrupt("return",e.action());case 14:t.prev=14,t.t0=t.catch(1),M(t.t0.response.data.msg);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)(w.a,{show:c,onHide:W,backdrop:"static",keyboard:!1,animation:!1,children:[Object(n.jsx)(w.a.Header,{closeButton:!0,children:Object(n.jsx)(w.a.Title,{children:"New Event"})}),Object(n.jsx)(w.a.Body,{children:Object(n.jsxs)(z.a,{children:[R&&Object(n.jsx)(L,{message:R,clearError:function(){return M(void 0)}}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupName",children:[Object(n.jsx)(z.a.Label,{children:"Event Name *"}),Object(n.jsx)(z.a.Control,{type:"name",placeholder:"What is this event?"})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupCourse",children:[Object(n.jsx)(z.a.Label,{children:"Course"}),Object(n.jsxs)(z.a.Control,{as:"select",defaultValue:O,onChange:function(e){return x(e.target.value)},children:[Object(n.jsx)("option",{children:"Choose from Enrolled Courses"}),d.map((function(e,t){return Object(n.jsx)("option",{children:e.courseName},t)}))]})]}),Object(n.jsxs)(z.a.Group,{children:[Object(n.jsx)(z.a.Label,{children:"Due Time"}),Object(n.jsx)(D.a,{initialValue:T()(e.day),dateFormat:!1,onChange:function(e){return U(e)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupDescription",children:[Object(n.jsx)(z.a.Label,{children:"Event Description"}),Object(n.jsx)(z.a.Control,{type:"description",as:"textarea",rows:3,placeholder:"Any notes for this event?"})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupPriority",children:[Object(n.jsx)(z.a.Label,{children:"Priority"}),Object(n.jsxs)(z.a.Control,{as:"select",defaultValue:"Low",children:[Object(n.jsx)("option",{children:"High"}),Object(n.jsx)("option",{children:"Medium"}),Object(n.jsx)("option",{children:"Low"})]})]})]})}),Object(n.jsxs)(w.a.Footer,{children:[Object(n.jsx)(m.a,{variant:"primary",onClick:V,children:"Save"}),Object(n.jsx)(m.a,{variant:"primary",onClick:W,children:"Cancel"})]})]})}function Z(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],h=j[1],b=Object(r.useState)(""),p=Object(u.a)(b,2),O=p[0],x=p[1],f=Object(r.useState)(""),g=Object(u.a)(f,2),v=g[0],y=g[1],k=Object(r.useState)(T()()),S=Object(u.a)(k,2),C=S[0],I=S[1],E=Object(r.useState)(T()()),L=Object(u.a)(E,2),G=L[0],P=L[1],B=Object(r.useState)(""),H=Object(u.a)(B,2),F=H[0],A=H[1],R=Object(r.useState)([]),M=Object(u.a)(R,2),U=M[0],W=M[1],V=Object(r.useState)(e.show),_=Object(u.a)(V,2),Y=_[0],J=_[1],X="http://organelle.pzny.xyz/events/";function q(){return e.action()}Object(r.useEffect)((function(){J(e.show),function(){var t=localStorage.getItem("auth-token"),a=X+e.id;N.a.get(a,{headers:{"x-auth-token":t}}).then((function(e){o(e.data.title),A(e.data.courseName),h(e.data.description),x(e.data.priority),I(e.data.startTime),P(T()(e.data.endTime).format("LLLL")),y(e.data.type)})).catch((function(e){console.log(e)}))}(),function(){var e=localStorage.getItem("auth-token"),t="http://organelle.pzny.xyz/courses/all";N.a.get(t,{headers:{"x-auth-token":e}}).then((function(e){W(e.data)})).catch((function(e){console.log(e)}))}(),x(""),y(""),I(""),h(""),A(""),P(""),o("")}),[e.show,e.id]);var K=function(){var t=Object(l.a)(i.a.mark((function t(a){var n,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,P(T()(G).toISOString()),n={title:c,type:v,startTime:C,endTime:G,priority:O,description:d,courseName:F},r="http://organelle.pzny.xyz/events/"+e.id,o=localStorage.getItem("auth-token"),t.next=8,N.a.put(r,n,{headers:{"x-auth-token":o}});case 8:t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:return t.abrupt("return",e.action());case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)(w.a,{show:Y,onHide:q,backdrop:"static",keyboard:!1,animation:!1,children:[Object(n.jsx)(w.a.Header,{closeButton:!0,children:Object(n.jsx)(w.a.Title,{children:"Edit Event"})}),Object(n.jsx)(w.a.Body,{children:Object(n.jsxs)(z.a,{children:[Object(n.jsxs)(z.a.Group,{controlId:"formGroupName",children:[Object(n.jsx)(z.a.Label,{children:"Event Name"}),Object(n.jsx)(z.a.Control,{type:"title",placeholder:c,onChange:function(e){return o(e.target.value)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupCourse",children:[Object(n.jsxs)(z.a.Label,{children:["Course: ",F," "]}),Object(n.jsxs)(z.a.Control,{as:"select",onChange:function(e){return A(e.target.value)},children:[Object(n.jsx)("option",{children:"Choose from Enrolled Courses"}),U.map((function(e,t){return Object(n.jsx)("option",{children:e.courseName},t)}))]})]}),Object(n.jsxs)(z.a.Group,{controlId:"formDatePicker",children:[Object(n.jsxs)(z.a.Label,{children:["End Time: ",T()(G).format("LLLL")]}),Object(n.jsx)(D.a,{onChange:function(e){return function(e){I(T()(e).startOf("day").toISOString()),P(T()(e))}(e)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupDescription",children:[Object(n.jsx)(z.a.Label,{children:"Event Description"}),Object(n.jsx)(z.a.Control,{type:"description",as:"textarea",rows:3,placeholder:d,onChange:function(e){return h(e.target.value)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupType",children:[Object(n.jsx)(z.a.Label,{children:"Event Type"}),Object(n.jsx)(z.a.Control,{type:"type",placeholder:v,onChange:function(e){return y(e.target.value)}})]}),Object(n.jsxs)(z.a.Group,{controlId:"formGroupPriority",children:[Object(n.jsx)(z.a.Label,{children:O<0?"This event is checked-off. Select the drop-down option below to change:":"Change Priority:"}),Object(n.jsxs)(z.a.Control,{value:O,as:"select",onChange:function(e){return x(e.target.value)},children:[Object(n.jsx)("option",{value:"3",children:"High"}),Object(n.jsx)("option",{value:"2",children:"Medium"}),Object(n.jsx)("option",{value:"1",children:"Low"})]})]})]})}),Object(n.jsxs)(w.a.Footer,{children:[Object(n.jsx)(m.a,{variant:"primary",onClick:K,children:"Save"}),Object(n.jsx)(m.a,{onClick:function(){return function(e){if(window.confirm("This will permanently delete the event. Are you sure?")){var t=localStorage.getItem("auth-token");N.a.delete(X+e,{headers:{"x-auth-token":t}}).then((function(e){console.log(e),q()})).catch((function(e){console.log(e)}))}}(e.id)},children:"Delete"}),Object(n.jsx)(m.a,{variant:"primary",onClick:q,children:"Cancel"})]})]})}function $(){var e=Object(r.useState)(T()()),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(X(a)),s=Object(u.a)(o,2),i=s[0],l=s[1],j=Object(r.useState)(!1),d=Object(u.a)(j,2),h=d[0],b=d[1],p=Object(r.useState)(!1),O=Object(u.a)(p,2),x=O[0],f=O[1],g=Object(r.useState)(T()()),y=Object(u.a)(g,2),k=y[0],S=y[1],C=Object(r.useState)(""),w=Object(u.a)(C,2),z=w[0],I=w[1],N=function(e){S(e),b(!h)},E=function(e){I(e),f(!x)};return Object(r.useEffect)((function(){}),[i,a,h]),Object(n.jsxs)("div",{children:[Object(n.jsx)(v,{}),Object(n.jsx)(Q,{action:N,show:h,day:k}),Object(n.jsx)(Z,{action:E,show:x,id:z}),Object(n.jsx)("div",{className:"top-padding",children:Object(n.jsx)(J,{value:a,nextMonth:function(){return c(a.add(1,"month")),l(X(a)),a},prevMonth:function(){return c(a.subtract(1,"month")),l(X(a)),a}})}),Object(n.jsxs)("div",{className:"top-right",children:[Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"calendar",children:[Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]}),Object(n.jsxs)("div",{className:"body",children:[Object(n.jsx)("div",{className:"day-names",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e){return Object(n.jsx)("div",{className:"week",children:e},e)}))}),i.map((function(e){return Object(n.jsx)("div",{children:e.map((function(e){return Object(n.jsxs)("div",{className:"day",children:[Object(n.jsx)("div",{className:"button-align ".concat("text-left before"===q(e)?"before":""),children:Object(n.jsx)(m.a,{onClick:function(){return N(e)},variant:"light",size:"sm",children:"+"})}),Object(n.jsx)("div",{className:q(e),children:e.format("D")}),Object(n.jsx)("div",{className:"list-events list-overflow",children:Object(n.jsx)(K,{action:E,thisDay:e,render:h})})]},e)}))},e)}))]})]})]})]})}var ee=a(56),te=a(57),ae=a(25),ne=a(60),re=a(59),ce=(a(98),function(e){Object(ne.a)(a,e);var t=Object(re.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={email:"dummy@email.com",inputEmail:"dummy@email.com",notificationSetting:!1,autoSyncSetting:!1,inputPassword:"",canvasToken:""},n.handleImportCanvas=n.handleImportCanvas.bind(Object(ae.a)(n)),n.handleAutoSyncSetting=n.handleAutoSyncSetting.bind(Object(ae.a)(n)),n.handleEmailSetting=n.handleEmailSetting.bind(Object(ae.a)(n)),n.handleEmailChange=n.handleEmailChange.bind(Object(ae.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(ae.a)(n)),n.scheduleSend=n.scheduleSend.bind(Object(ae.a)(n)),n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("auth-token");N.a.get("http://organelle.pzny.xyz/users/setting",{headers:{"x-auth-token":t}}).then((function(t){e.setState({inputEmail:t.data.email}),e.setState({email:t.data.email}),e.setState({autoSyncSetting:t.data.autoSyncSetting}),e.setState({notificationSetting:t.data.emailSetting})}))}},{key:"handleAutoSyncSetting",value:function(e){this.setState({autoSyncSetting:e});var t={autoSyncSetting:e},a=localStorage.getItem("auth-token");N.a.put("http://organelle.pzny.xyz/users/updatesyncsetting",t,{headers:{"x-auth-token":a}})}},{key:"scheduleSend",value:function(){try{var e=localStorage.getItem("auth-token");console.log(this.state.email);var t={email:this.state.email};N.a.post("http://organelle.pzny.xyz/events/emailstart",t,{headers:{"x-auth-token":e}}),window.alert("Email sent successfully.")}catch(a){console.log("SCHE ERR"),console.log(a)}}},{key:"handleEmailSetting",value:function(e){this.setState({notificationSetting:e});var t={emailSetting:e},a=localStorage.getItem("auth-token");N.a.put("http://organelle.pzny.xyz/users/updateemailsetting",t,{headers:{"x-auth-token":a}})}},{key:"handleEmailChange",value:function(e){this.setState({email:this.state.inputEmail});var t={email:this.state.inputEmail},a=localStorage.getItem("auth-token");N.a.put("http://organelle.pzny.xyz/users/updateemail",t,{headers:{"x-auth-token":a}})}},{key:"handlePasswordChange",value:function(){var e={password:this.state.inputPassword},t=localStorage.getItem("auth-token");N.a.put("http://organelle.pzny.xyz/users/updatepassword",e,{headers:{"x-auth-token":t}})}},{key:"handleImportCanvas",value:function(){var e=this.state.canvasToken,t={headers:{Authorization:"Bearer ".concat(e)}};console.log(t);N.a.get("https://cors-anywhere.herokuapp.com/https://canvas.ucsd.edu/api/v1/calendar_events",t).then((function(e){var t=localStorage.getItem("auth-token");e.data.forEach((function(e){var a={title:e.title,type:e.type,startTime:e.start_at,endTime:e.end_at,priority:1,description:e.description,canvasID:e.id};console.log(a);N.a.post("http://organelle.pzny.xyz/events/add",a,{headers:{"x-auth-token":t}})}))})).catch((function(e){400===e.response.status&&window.alert(e.response.data.msg),console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,r=t.notificationSetting,c=t.autoSyncSetting;return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(v,{}),Object(n.jsx)("div",{className:"top-right",children:Object(n.jsxs)("div",{className:"profile-form",children:[Object(n.jsx)("h4",{className:"profile-title",children:"Profile and Settings"}),Object(n.jsxs)("div",{className:"profile-body",children:[Object(n.jsxs)("h4",{children:["Welcome, ",a]}),Object(n.jsx)("p",{children:"Change your email"}),Object(n.jsx)("input",{className:"change-setting",type:"email",onChange:function(t){e.setState({inputEmail:t.target.value})}}),Object(n.jsx)("br",{}),Object(n.jsx)(m.a,{viriant:"light",onClick:this.handleEmailChange,children:"change"}),Object(n.jsx)("p",{children:"Change your password"}),Object(n.jsx)("input",{className:"change-setting",type:"password",onChange:function(t){e.setState({inputPassword:t.target.value})}}),Object(n.jsx)("br",{}),Object(n.jsx)(m.a,{viriant:"light",onClick:this.handlePasswordChange,children:"change"}),Object(n.jsxs)("p",{children:["Notification Email (Events for the next three days): ",r," "]}),Object(n.jsx)(m.a,{onClick:this.scheduleSend,children:"Send Email"}),Object(n.jsxs)("p",{children:["Canvas AutoSync Setting: ",c," "]}),Object(n.jsx)(M.a,{checked:c,onlabel:"on",onstyle:"success",offlabel:"off",offstyle:"danger",onChange:function(t){return e.handleAutoSyncSetting(t)}}),Object(n.jsx)("p",{children:"Get events from Canvas"}),Object(n.jsx)("input",{className:"change-setting",type:"password",placeholder:"Canvas token here",onChange:function(t){e.setState({canvasToken:t.target.value})}}),Object(n.jsx)("p",{}),Object(n.jsx)(m.a,{onClick:this.handleImportCanvas,children:"Import"})]})]})})]})})}}]),a}(r.Component));a(52);function oe(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1];function o(){return c(!1)}var s=Object(r.useState)(),j=Object(u.a)(s,2),b=j[0],O=j[1],x=Object(r.useState)(),f=Object(u.a)(x,2),g=f[0],v=f[1],y=Object(r.useState)(),k=Object(u.a)(y,2),S=k[0],C=k[1],I=Object(r.useState)(),E=Object(u.a)(I,2),T=E[0],G=E[1],D=Object(r.useContext)(h).setUserData,P=Object(d.g)();var B=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={email:g,password:S},"http://organelle.pzny.xyz/users/login",e.next=6,N.a.post("http://organelle.pzny.xyz/users/login",a);case 6:n=e.sent,D({token:n.data.token,user:n.data.user}),localStorage.setItem("auth-token",n.data.token),P.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response.data.msg&&G(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"login-page",children:[Object(n.jsx)(p,{}),Object(n.jsxs)("div",{className:"login-bar",children:[Object(n.jsx)("h2",{children:"Log in"}),T&&Object(n.jsx)(L,{message:T,clearError:function(){return G(void 0)}}),Object(n.jsxs)("form",{className:"form",onSubmit:B,children:[Object(n.jsx)("label",{htmlFor:"login-email",children:"Email"}),Object(n.jsx)("input",{id:"login-email",type:"email",onChange:function(e){return v(e.target.value)}}),Object(n.jsx)("label",{htmlFor:"login-password",children:"Password"}),Object(n.jsx)("input",{id:"login-password",type:"password",onChange:function(e){return C(e.target.value)}}),Object(n.jsx)("input",{type:"submit",value:"Log in"}),Object(n.jsx)("button",{onClick:function(){return P.push("/")},children:"Go Back"})]}),Object(n.jsx)("button",{onClick:function(){return c(!0)},children:"Reset Password"})]}),Object(n.jsxs)(w.a,{show:a,onHide:o,backdrop:"static",keyboard:!1,animation:!1,children:[Object(n.jsx)(w.a.Header,{closeButton:!0,children:Object(n.jsx)(w.a.Title,{children:"Forget Password?"})}),Object(n.jsx)(w.a.Body,{children:Object(n.jsx)(z.a,{children:Object(n.jsxs)(z.a.Group,{controlId:"formGroupEmail",children:[Object(n.jsx)(z.a.Label,{children:"Email"}),Object(n.jsx)(z.a.Control,{type:"Email",placeholder:"What is your Email?",onChange:function(e){O(e.target.value)}}),Object(n.jsx)("span",{children:"Check your junk mail box if you can't find the email."}),T&&Object(n.jsx)(L,{message:T,clearError:function(){return G(void 0)}})]})})}),Object(n.jsxs)(w.a.Footer,{children:[Object(n.jsx)(m.a,{variant:"primary",onClick:function(){var e={email:b};N.a.post("http://organelle.pzny.xyz/users/forgot",e).then((function(e){return window.alert(e.data.msg),O(void 0),c(!1)})).catch((function(e){G(e.response.data.msg)}))},children:"Send An Email"}),Object(n.jsx)(m.a,{variant:"primary",onClick:o,children:"Cancel"})]})]})]})}function se(){var e=Object(r.useState)(),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(),s=Object(u.a)(o,2),j=s[0],b=s[1],O=Object(r.useState)(),x=Object(u.a)(O,2),f=x[0],g=x[1],m=Object(r.useState)(),v=Object(u.a)(m,2),y=v[0],k=v[1],S=Object(r.useState)(),C=Object(u.a)(S,2),w=C[0],z=C[1],I=Object(r.useContext)(h).setUserData,E=Object(d.g)(),T=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:j,passwordCheck:f,displayName:y},"http://organelle.pzny.xyz/users/register",r="http://organelle.pzny.xyz/users/login",e.next=7,N.a.post("http://organelle.pzny.xyz/users/register",n);case 7:return e.next=9,N.a.post(r,{email:a,password:j});case 9:c=e.sent,I({token:c.data.token,user:c.data.user}),localStorage.setItem("auth-token",c.data.token),E.push("/"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),e.t0.response.data.msg&&z(e.t0.response.data.msg);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"register-page",children:[Object(n.jsx)(p,{}),Object(n.jsxs)("div",{className:"register-bar",children:[Object(n.jsx)("h2",{children:"Register"}),w&&Object(n.jsx)(L,{message:w,clearError:function(){return z(void 0)}}),Object(n.jsxs)("form",{className:"form",onSubmit:T,children:[Object(n.jsx)("label",{htmlFor:"register-email",children:"Email"}),Object(n.jsx)("input",{id:"register-email",type:"email",onChange:function(e){return c(e.target.value)}}),Object(n.jsx)("label",{htmlFor:"register-password",children:"Password"}),Object(n.jsx)("input",{id:"register-password",type:"password",onChange:function(e){return b(e.target.value)}}),Object(n.jsx)("input",{type:"password",placeholder:"Verify password",onChange:function(e){return g(e.target.value)}}),Object(n.jsx)("label",{htmlFor:"register-display-name",children:"Display name"}),Object(n.jsx)("input",{id:"register-display-name",type:"text",onChange:function(e){return k(e.target.value)}}),Object(n.jsx)("input",{type:"submit",value:"Register"}),Object(n.jsx)("button",{onClick:function(){return E.push("/")},children:"Go Back"})]})]})]})}function ie(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(""),i=Object(u.a)(s,2),l=i[0],j=i[1];return Object(n.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault();var a={password:c,passwordCheck:l,id:e.match.params.id};console.log(a);N.a.post("http://organelle.pzny.xyz/users/reset",a).then((function(){e.history.push("/login")}))},children:[Object(n.jsx)("label",{htmlFor:"login-password",children:"New Password"}),Object(n.jsx)("input",{id:"login-password",type:"password",onChange:function(e){return o(e.target.value)}}),Object(n.jsx)("label",{htmlFor:"login-password",children:"Password Check"}),Object(n.jsx)("input",{id:"login-password",type:"password",onChange:function(e){return j(e.target.value)}}),Object(n.jsx)("input",{type:"submit",value:"Submit"})]})}var le=a(35),ue=a(58),je=function(e){var t=e.component,a=Object(ue.a)(e,["component"]);return Object(n.jsx)(d.b,Object(le.a)(Object(le.a)({},a),{},{render:function(e){return""!==localStorage.getItem("auth-token")?Object(n.jsx)(t,Object(le.a)({},e)):Object(n.jsx)(d.a,{to:"/login"})}}))};function de(){var e=Object(r.useState)({token:void 0,user:void 0}),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),"http://organelle.pzny.xyz/users/tokenIsValid",e.next=5,N.a.post("http://organelle.pzny.xyz/users/tokenIsValid",null,{header:{"x-auth-token":t}});case 5:if(!e.sent.data){e.next=12;break}return"http://organelle.pzny.xyz/users/users",e.next=10,N.a.get("http://organelle.pzny.xyz/users/users",{headers:{"x-auth-token":t}});case 10:a=e.sent,c({token:t,user:a.data});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(j.a,{children:Object(n.jsx)(h.Provider,{value:{userData:a,setUserData:c},children:Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/",component:g}),Object(n.jsx)(d.b,{path:"/login",component:oe}),Object(n.jsx)(d.b,{path:"/register",component:se}),Object(n.jsx)(d.b,{path:"/reset/:id",component:ie}),Object(n.jsx)(je,{path:"/todo",component:W}),Object(n.jsx)(je,{path:"/calendar",component:$}),Object(n.jsx)(je,{path:"/profile",component:ce})]})})})})}o.a.render(Object(n.jsx)(de,{}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.9cbaceec.chunk.js.map